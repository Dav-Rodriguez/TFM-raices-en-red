<div class="form-container">
  <mat-card class="form-card">
    <mat-card-header>
      <mat-card-title>Crear una nueva publicación</mat-card-title>
    </mat-card-header>

    <form [formGroup]="problemForm" (ngSubmit)="onSubmit()">
      <mat-card-content>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Título de la publicación</mat-label>
          <input
            matInput
            formControlName="title"
            placeholder="Ej. Recuperación de vertientes"
          />
        </mat-form-field>

        <div class="row">
          <div class="image-upload-placeholder">
            <mat-icon>add_a_photo</mat-icon>
            <span>Subir Portada</span>
          </div>

          <div class="territory-data">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Nombre de la comunidad</mat-label>
              <input matInput formControlName="communityName" />
            </mat-form-field>
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Ubicación (País, Ciudad, Localidad)</mat-label>
              <input matInput formControlName="location" />
            </mat-form-field>
          </div>
        </div>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Descripción de la problemática</mat-label>
          <textarea matInput rows="5" formControlName="description"></textarea>
        </mat-form-field>

        <div class="selectors-grid">
          <mat-form-field appearance="outline">
            <mat-label>Tipo de Proyecto</mat-label>
            <mat-select formControlName="categoryProject">
              <mat-option *ngFor="let cat of categories" [value]="cat">{{
                cat
              }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Grupos Prioritarios</mat-label>
            <mat-select formControlName="priorityGroups" multiple>
              <mat-option *ngFor="let g of groups" [value]="g">{{
                g
              }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Ayuda buscada</mat-label>
            <mat-select formControlName="helpType" multiple>
              <mat-option *ngFor="let help of helpTypes" [value]="help">{{
                help
              }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>¿Qué ofrece la comunidad a cambio?</mat-label>
          <textarea
            matInput
            formControlName="exchangeProposal"
            placeholder="Ej. Hospedaje, alimentación, productos de la zona..."
          ></textarea>
        </mat-form-field>
      </mat-card-content>

      <div class="gallery-section">
        <mat-label class="section-label"
          >Evidencia Visual (Galería complementaria)</mat-label
        >
        <div class="gallery-grid">
          <div class="gallery-upload-box">
            <mat-icon>add_photo_alternate</mat-icon>
            <span>Foto 1</span>
          </div>
          <div class="gallery-upload-box">
            <mat-icon>add_photo_alternate</mat-icon>
            <span>Foto 2</span>
          </div>
          <div class="gallery-upload-box">
            <mat-icon>add_photo_alternate</mat-icon>
            <span>Foto 3</span>
          </div>
        </div>
      </div>

      <mat-card-actions>
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="problemForm.invalid"
        >
          PUBLICAR PROBLEMÁTICA
        </button>
      </mat-card-actions>
    </form>
  </mat-card>
</div>
